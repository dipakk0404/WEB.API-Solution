@model MVCWEBAPICONSUM.Models.StudentData

@{
    ViewBag.Title = "CreateAjax";
}

<h2>CreateAjax</h2>


<table>
    <tr>
        <td>ID</td>
        <td><input type="text" id="txtId" /></td>

    </tr>
    <tr>
        <td>Name</td>
        <td><input type="text" id="txtName" /></td>

    </tr>
    <tr>
        <td>Gender</td>
        <td><input type="text" id="txtGender" /></td>

    </tr>
    <tr>
        <td>Age</td>
        <td><input type="text" id="txtAge" /></td>

    </tr>
    <tr>
        <td>TrainerId</td>
        <td><input type="text" id="txtTrid" /></td>

    </tr>

</table>
<div>
    <input type="submit" value="submit" onclick="Call()" />
</div>


<link rel="shortcut icon" href="#">
<script src="~/Scripts/jquery-3.6.0.min.js"></script>

<script>

    function Call() {



        var id = document.getElementById('txtId').value;
        var id = document.getElementById('txtId').value;
        var iid = parseInt(id);
        var Name = document.getElementById('txtName').value;
        var Gen = document.getElementById('txtGender').value;
        var age = document.getElementById('txtAge').value;
        var iAge = parseInt(age);
        var Trid = document.getElementById('txtTrid').value;
        var iTrid = parseInt(Trid);
        debugger;
        $(function () {
            $.ajax({
               
                url: 'http://localhost:56415/api/Students',
                type: 'POST',
                dataType: 'jsonp',
                data: { "ID": iid, "Name": Name, "Gender": Gen, "Age": iAge, "TrainerId": iTrid },
                success: function (data) {

                },

                error: function (result) {

                    alert("Failed");
                }

            });



        });



    };
</script>




